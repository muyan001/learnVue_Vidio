<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
<script>


    //源码中，参数包含？ 代表不是必填参数
    /**
     *    需求： 请求拿到结果
     *          将结果+aaa 得到第1次结果
     *          将第1次结果+bbb  得到第2次结果
     *          将第2次结果+ccc  得到第3次结果
     */

    // 1.最基础写法
    // new Promise((resolve,reject)=>{
    //     // 第一次进行了网络请求
    //     setTimeout(()=>{
    //         resolve("Hello   ")
    //     },1000)
    // }).then(data=>{
    //
    //     data1 = data + 'aaa'
    //     console.log(data1,"得到第1次结果")
    //
    //     return new Promise((resolve, reject)=>{
    //         // 第二次未进行网络请求
    //         resolve(data1)
    //     }).then(data=>{
    //         data2 = data + 'bbb'
    //         console.log(data1,"得到第2次结果")
    //
    //         return new Promise((resolve)=>{
    //             resolve(data2)
    //         }).then(data=>{
    //             data3 = data + 'ccc'
    //             console.log(data3,"得到第3次结果")
    //         })
    //     })
    // })




    // // 2. 优化写法
    // new Promise((resolve,reject)=>{
    //     // 第一次进行了网络请求
    //     setTimeout(()=>{
    //         resolve("Hello   ")
    //     },1000)
    // }).then(data=>{
    //
    //     data1 = data + 'aaa'
    //     console.log(data1,"得到第1次结果")
    //
    //     return new Promise((resolve, reject)=>{
    //         resolve(data1)
    //     })
    // }).then(data=>{
    //     data2 = data + 'bbb'
    //     console.log(data1,"得到第2次结果")
    //
    //     return new Promise((resolve)=>{
    //         resolve(data2)
    //     })
    // }).then(data=>{
    //     data3 = data + 'ccc'
    //     console.log(data3,"得到第3次结果")
    // })


    // 3.简化写法
    // new Promise((resolve,reject)=>{
    //     // 第一次进行了网络请求
    //     setTimeout(()=>{
    //         resolve("Hello   ")
    //     },1000)
    // }).then(data=>{
    //
    //     data1 = data + 'aaa'
    //     console.log(data1,"得到第1次结果")
    //
    //     return Promise.resolve(data1)
    // }).then(data=>{
    //     data2 = data + 'bbb'
    //     console.log(data1,"得到第2次结果")
    //
    //     return Promise.resolve(data2)
    // }).then(data=>{
    //     data3 = data + 'ccc'
    //     console.log(data3,"得到第3次结果")
    // })


    // 4.最简写法
    // new Promise((resolve,reject)=>{
    //     // 第一次进行了网络请求
    //     setTimeout(()=>{
    //         resolve("Hello   ")
    //     },1000)
    // }).then(data=>{
    //
    //     data1 = data + 'aaa'
    //     console.log(data1,"得到第1次结果")
    //
    //     return data1
    // }).then(data=>{
    //     data2 = data + 'bbb'
    //     console.log(data1,"得到第2次结果")
    //
    //     return data2
    // }).then(data=>{
    //     data3 = data + 'ccc'
    //     console.log(data3,"得到第3次结果")
    // })



    // // 5.关于reject的原始写法
    // new Promise((resolve,reject)=>{
    //     // 第一次进行了网络请求
    //     setTimeout(()=>{
    //         resolve("Hello   ")
    //     },1000)
    // }).then(data=>{
    //
    //     data1 = data + 'aaa'
    //     console.log(data1,"得到第1次结果")
    //
    //     return new Promise((resolve, reject)=>{
    //         reject('err message')
    //     })
    // }).then(data=>{
    //     data2 = data + 'bbb'
    //     console.log(data1,"得到第2次结果")
    //
    //     return data2
    // }).then(data=>{
    //     data3 = data + 'ccc'
    //     console.log(data3,"得到第3次结果")
    // }).catch(err=>{
    //     console.log(err)
    // })

    // 5.关于reject的简写
    new Promise((resolve,reject)=>{
        // 第一次进行了网络请求
        setTimeout(()=>{
            resolve("Hello   ")
        },1000)
    }).then(data=>{

        data1 = data + 'aaa'
        console.log(data1,"得到第1次结果")

        return Promise.reject("err message ")
    }).then(data=>{
        data2 = data + 'bbb'
        console.log(data1,"得到第2次结果")

        return data2
    }).then(data=>{
        data3 = data + 'ccc'
        console.log(data3,"得到第3次结果")
    }).catch(err=>{
        console.log(err)
    })


</script>
</body>
</html>